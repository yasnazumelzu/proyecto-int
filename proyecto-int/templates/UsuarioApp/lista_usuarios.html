{% extends "base.html" %}
{% block title %}Usuarios{% endblock %}
{% block content %}
<h2 class="text-xl font-bold mb-4">Usuarios</h2>
<table class="min-w-full bg-white rounded shadow">
  <thead>
    <tr class="bg-slate-100 text-left text-sm">
      <th class="px-4 py-2">Usuario</th>
      <th class="px-4 py-2">Rol</th>
      <th class="px-4 py-2">Último acceso</th>
    </tr>
  </thead>
  <tbody>
    {% for u in page_obj %}
    <tr class="border-t text-sm">
      <td class="px-4 py-2">{{ u.username }}</td>
      <td class="px-4 py-2">{{ u.perfil.get_rol_display }}</td>
      <td class="px-4 py-2">{{ u.last_login|date:"d-m-Y H:i" }}</td>
    </tr>
    {% empty %}
    <tr><td colspan="3" class="px-4 py-2">No hay usuarios.</td></tr>
    {% endfor %}
  </tbody>
</table>

<div class="mt-4">
  {% if page_obj.has_previous %}
    <a href="?page={{ page_obj.previous_page_number }}" class="px-3 py-1 border rounded">Anterior</a>
  {% endif %}
  <span class="mx-2">Página {{ page_obj.number }} de {{ page_obj.paginator.num_pages }}</span>
  {% if page_obj.has_next %}
    <a href="?page={{ page_obj.next_page_number }}" class="px-3 py-1 border rounded">Siguiente</a>
  {% endif %}
</div>
{% endblock %}